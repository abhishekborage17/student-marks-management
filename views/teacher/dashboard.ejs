<%- include('../partials/header', { title: 'Teacher Dashboard' , userId: session.userId }) %>

  <div class="container-fluid px-4 py-5">
    <div class="row align-items-center mb-4">
      <div class="col-md-6">
        <h2>Welcome, <%= user.name %> ðŸ‘‹</h2>
        <p class="text-muted">Role: <strong><%= user.role || 'N/A' %></strong></p>
      </div>
      <div class="col-md-6 text-md-end d-flex align-items-center justify-content-md-end gap-3 mt-3 mt-md-0">
        <div class="text-end">
          <p class="mb-0"><strong>Total Students:</strong>
            <%= studentCount %>
          </p>
          <p class="mb-0"><strong>Subjects:</strong>
            <%= subjectCount %>
          </p>
        </div>
        <img src="/images/5.png" class="user-avatar">
      </div>
    </div>

    <!-- Dashboard Grid -->
    <div class="row g-4">

      <!-- Students -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-people-fill display-4 text-secondary mb-3"></i>
            <h5>Manage Students</h5>
            <p>Add, edit, or remove student profiles.</p>
            <a href="/teacher/students" class="btn btn-outline-secondary">Go to Students</a>
          </div>
        </div>
      </div>

      <!-- Subjects -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-journal-bookmark-fill display-4 text-info mb-3"></i>
            <h5>Manage Subjects</h5>
            <p>Create and assign subjects to classes.</p>
            <a href="/teacher/subjects" class="btn btn-outline-info">Go to Subjects</a>
          </div>
        </div>
      </div>

      <!-- Classes -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-building display-4 text-primary mb-3"></i>
            <h5>Manage Classes</h5>
            <p>Organize classes and assign students.</p>
            <a href="/teacher/classes" class="btn btn-outline-primary">Go to Classes</a>
          </div>
        </div>
      </div>

      <!-- Marks -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-pencil-square display-4 text-success mb-3"></i>
            <h5>Manage Marks</h5>
            <p>Enter and update student marks.</p>
            <a href="/teacher/marks" class="btn btn-outline-success">Go to Marks</a>
          </div>
        </div>
      </div>

      <!-- Performance -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-bar-chart-fill display-4 text-warning mb-3"></i>
            <h5>Class Performance</h5>
            <p>View average marks and performance reports.</p>
            <a href="/teacher/performance" class="btn btn-outline-warning">View Reports</a>
          </div>
        </div>
      </div>

      <!-- Attendance -->
      <!-- Attendance -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body d-flex flex-column align-items-center text-center">
            <i class="bi bi-clipboard-check-fill display-4 text-dark mb-3"></i>
            <h5 class="mb-2">Attendance</h5>
            <p class="text-muted mb-4">View or mark attendance by class and month.</p>
            <div class="d-flex gap-2">
              <a href="/teacher/attendance/manage" class="btn btn-outline-dark">Manage</a>
              <a href="/teacher/attendance/add" class="btn btn-dark">Add</a>
            </div>
          </div>
        </div>
      </div>


      <!-- Calendar/Timetable -->
      <div class="col-md-4">
        <div class="card border-0 shadow h-100 transition-hover">
          <div class="card-body text-center">
            <i class="bi bi-calendar2-event-fill display-4 text-danger mb-3"></i>
            <h5>Schedule</h5>
            <p>Check your teaching timetable or upcoming tasks.</p>
            <a href="/teacher/schedule" class="btn btn-outline-danger">View Schedule</a>
          </div>
        </div>
      </div>

    </div>

    <!-- Logout Button -->
    <!-- <div class="text-center mt-5">
      <a href="/auth/logout" class="btn btn-lg btn-danger px-5">Logout</a>
    </div>
  </div> -->
    <style>
      .user-avatar {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
      }

      .dashboard-icon {
        font-size: 3rem;
        color: #6c757d;
      }

      .transition-hover {
        transition: transform 0.3s ease-in-out;
      }


      .transition-hover:hover {
        transform: translateY(-5px);
        transition: 0.3s ease-in-out;
      }



      .card {
        border-radius: 10px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      .card-body {
        padding: 2rem;
      }
    </style>


    <%- include('../partials/footer') %>