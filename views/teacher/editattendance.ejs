<%- include('../partials/header', { title: 'Edit Attendance' }) %>

<div class="container py-5">
    <h2 class="mb-4">Edit Attendance</h2>
    <form method="POST" action="/teacher/attendance/edit/<%= attendance._id %>">
        <div class="mb-3">
            <label class="form-label">Student</label>
            <select name="studentId" class="form-control" required>
                <% students.forEach(student => { %>
                    <option value="<%= student._id %>" <%= student._id.toString() === attendance.studentId._id.toString() ? "selected" : "" %>>
                        <%= student.name %>
                    </option>
                <% }) %>
            </select>
        </div>
        <div class="mb-3">
            <label class="form-label">Class</label>
            <input type="text" name="className" value="<%= attendance.className %>" class="form-control" required />
        </div>
        <div class="mb-3">
            <label class="form-label">Month</label>
            <input type="text" name="month" value="<%= attendance.month %>" class="form-control" required />
        </div>
        <div class="mb-3">
            <label class="form-label">Days Present (comma separated)</label>
            <input type="text" name="daysPresent" value="<%= attendance.daysPresent.join(',') %>" class="form-control" required />
        </div>
        <div class="mb-3">
            <label class="form-label">Total Days</label>
            <input type="number" name="totalDays" value="<%= attendance.totalDays %>" class="form-control" required />
        </div>
        <button class="btn btn-success">Update Attendance</button>
    </form>
</div>

<%- include('../partials/footer') %>
